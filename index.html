<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智赛云 - 体育赛事智能管理系统</title>
    <link rel="icon" href="./logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            50: '#eef2ff',
                            100: '#e0e7ff',
                            500: '#6366f1',
                            600: '#4f46e5',
                            900: '#312e81',
                        }
                    }
                }
            }
        }
        // ==========================================
      // 6. 消息推送模拟逻辑
      // ==========================================
      
      function triggerInAppMsg() {
          const overlay = document.getElementById('msg-card-overlay');
          const card = document.getElementById('msg-card');
          
          overlay.classList.remove('hidden');
          // Delay to allow display:block to apply before transition
          setTimeout(() => {
              overlay.classList.remove('opacity-0');
              card.classList.remove('scale-90');
              card.classList.add('scale-100');
          }, 10);
      }

      function closeMsgCard() {
          const overlay = document.getElementById('msg-card-overlay');
          const card = document.getElementById('msg-card');
          
          overlay.classList.add('opacity-0');
          card.classList.remove('scale-100');
          card.classList.add('scale-90');
          
          setTimeout(() => {
              overlay.classList.add('hidden');
          }, 300);
      }

      function triggerOutOfAppMsg() {
          const banner = document.getElementById('notification-banner');
          const badge = document.getElementById('app-badge');
          const time = document.getElementById('msg-time');
          const preview = document.getElementById('msg-preview');

          // 1. Show Notification Banner
          banner.classList.remove('-translate-y-full');
          
          // 2. Update List Item
          setTimeout(() => {
              badge.classList.remove('scale-0');
              time.innerText = '刚刚';
              time.classList.add('text-brand-600');
              preview.innerText = '[1条] 请让队员张佑才到检录口A就位！';
              preview.classList.remove('text-slate-400');
              preview.classList.add('text-slate-900', 'font-medium');
          }, 500);

          // Auto hide banner after 3 seconds
          setTimeout(() => {
              banner.classList.add('-translate-y-full');
          }, 4000);
      }

      function openApp() {
          // Reset simulated state
          const badge = document.getElementById('app-badge');
          const time = document.getElementById('msg-time');
          const preview = document.getElementById('msg-preview');
          const banner = document.getElementById('notification-banner');

          banner.classList.add('-translate-y-full');
          badge.classList.add('scale-0');
          
          time.innerText = '昨天';
          time.classList.remove('text-brand-600');
          preview.innerText = '点击查看最新赛事信息';
          preview.classList.remove('text-slate-900', 'font-medium');
          preview.classList.add('text-slate-400');
          
          alert('已进入小程序查看详情');
      }

      function triggerGlobalSimulation() {
          triggerInAppMsg();
          triggerOutOfAppMsg();
      }
  </script>
    <!-- 图标库 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* 自定义滚动条 */
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
        }
        
        /* 手机容器模拟 */
        .mobile-shell {
            width: 375px;
            height: 750px;
            border: 12px solid #1e293b;
            border-radius: 40px;
            overflow: hidden;
            position: relative;
            background: #f8fafc;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
        }
        .notch {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 25px;
            background: #1e293b;
            border-bottom-left-radius: 16px;
            border-bottom-right-radius: 16px;
            z-index: 50;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased h-screen flex overflow-hidden">
  <!-- 1. 侧边栏 Sidebar -->
  <aside class="w-64 bg-white border-r border-slate-200 flex flex-col shadow-sm z-10">
      <div class="h-16 flex items-center px-8 border-b border-slate-100">
          <div class="w-8 h-8 bg-brand-600 rounded-lg flex items-center justify-center text-white mr-3">
              <i class="fa-solid fa-running"></i>
          </div>
          <span class="text-xl font-bold text-slate-800 tracking-tight">智赛云</span>
      </div>

      <nav class="flex-1 p-4 space-y-2">
          <button onclick="switchTab('dashboard')" id="nav-dashboard" class="w-full flex items-center px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 rounded-xl transition-all">
              <i class="fa-solid fa-chart-pie w-6"></i>
              赛事看板
          </button>
          <button onclick="switchTab('events')" id="nav-events" class="w-full flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all bg-brand-50 text-brand-600">
              <i class="fa-solid fa-trophy w-6"></i>
              赛事管理
          </button>
          <button onclick="switchTab('miniapp')" id="nav-miniapp" class="w-full flex items-center px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 rounded-xl transition-all">
              <i class="fa-solid fa-mobile w-6"></i>
              小程序面板
          </button>
      </nav>

      <div class="p-4 border-t border-slate-100">
          <div class="flex items-center gap-3">
              <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Admin" class="w-10 h-10 rounded-full bg-slate-100">
              <div>
                  <p class="text-sm font-semibold">系统管理员</p>
                  <p class="text-xs text-slate-400">admin@sport.com</p>
              </div>
          </div>
      </div>
  </aside>

  <!-- 2. 主体区域 Main Content -->
  <main class="flex-1 relative overflow-hidden flex flex-col">
      
      <!-- Header -->
      <header class="h-16 bg-white/80 backdrop-blur border-b border-slate-200 flex items-center justify-between px-8 sticky top-0 z-10">
          <h2 id="page-title" class="text-lg font-bold text-slate-700">赛事列表</h2>
          <div class="flex items-center gap-4">
              <button class="p-2 text-slate-400 hover:text-brand-600 transition"><i class="fa-regular fa-bell"></i></button>
              <button class="p-2 text-slate-400 hover:text-brand-600 transition"><i class="fa-solid fa-gear"></i></button>
          </div>
      </header>

      <!-- Content Container -->
      <div class="flex-1 overflow-y-auto p-8 scroll-smooth" id="main-scroll">
          
          <!-- TAB 0: 赛事看板 (Dashboard) -->
          <div id="view-dashboard" class="hidden space-y-6 animate-fade-in">
              <div class="flex justify-between items-end mb-2">
                  <div>
                      <h1 class="text-2xl font-bold text-slate-800">赛事数据看板</h1>
                      <p class="text-slate-500 mt-1">2026 春季华东师范健美操大赛 · 实时监控</p>
                  </div>
                  <div class="flex gap-2">
                      <select class="bg-white border border-slate-200 text-slate-600 text-sm rounded-lg p-2.5 outline-none focus:ring-2 focus:ring-brand-500">
                          <option>全部项目</option>
                          <option>男子单人操</option>
                          <option>女子单人操</option>
                          <option>混合双人操</option>
                      </select>
                      <button class="bg-white border border-slate-200 text-slate-600 hover:text-brand-600 px-4 py-2.5 rounded-lg text-sm font-medium shadow-sm transition">
                          <i class="fa-solid fa-download mr-1"></i> 导出报表
                      </button>
                  </div>
              </div>

              <!-- 1. 核心指标卡片 -->
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                  <!-- Card 1 -->
                  <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm relative overflow-hidden group">
                      <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition">
                          <i class="fa-solid fa-users text-6xl text-brand-600"></i>
                      </div>
                      <p class="text-sm text-slate-500 font-medium mb-1">参赛总人数</p>
                      <h3 class="text-3xl font-bold text-slate-800">248 <span class="text-sm font-normal text-slate-400">人</span></h3>
                      <div class="flex items-center mt-4 text-xs">
                          <span class="text-emerald-500 font-bold flex items-center bg-emerald-50 px-2 py-0.5 rounded-full mr-2">
                              <i class="fa-solid fa-arrow-up mr-1"></i> 12%
                          </span>
                          <span class="text-slate-400">较上届增长</span>
                      </div>
                  </div>
                  <!-- Card 2 -->
                  <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm relative overflow-hidden group">
                      <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition">
                          <i class="fa-solid fa-eye text-6xl text-blue-600"></i>
                      </div>
                      <p class="text-sm text-slate-500 font-medium mb-1">观众入场人数</p>
                      <h3 class="text-3xl font-bold text-slate-800">1,205 <span class="text-sm font-normal text-slate-400">人</span></h3>
                      <div class="flex items-center mt-4 text-xs">
                          <span class="text-emerald-500 font-bold flex items-center bg-emerald-50 px-2 py-0.5 rounded-full mr-2">
                              <i class="fa-solid fa-arrow-up mr-1"></i> 5.8%
                          </span>
                          <span class="text-slate-400">较昨日新增</span>
                      </div>
                  </div>
                  <!-- Card 3 -->
                  <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm relative overflow-hidden group">
                      <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition">
                          <i class="fa-solid fa-flag-checkered text-6xl text-amber-600"></i>
                      </div>
                      <p class="text-sm text-slate-500 font-medium mb-1">赛事完赛进度</p>
                      <h3 class="text-3xl font-bold text-slate-800">15 <span class="text-lg text-slate-400">/ 28</span></h3>
                      <div class="w-full bg-slate-100 rounded-full h-1.5 mt-4 overflow-hidden">
                          <div class="bg-amber-500 h-1.5 rounded-full" style="width: 53%"></div>
                      </div>
                  </div>
                  <!-- Card 4 -->
                  <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm relative overflow-hidden group">
                      <div class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition">
                          <i class="fa-solid fa-medal text-6xl text-purple-600"></i>
                      </div>
                      <p class="text-sm text-slate-500 font-medium mb-1">产生奖牌数</p>
                      <h3 class="text-3xl font-bold text-slate-800">45 <span class="text-sm font-normal text-slate-400">枚</span></h3>
                      <div class="flex gap-2 mt-4">
                          <span class="px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs font-bold rounded">金 15</span>
                          <span class="px-2 py-0.5 bg-slate-200 text-slate-600 text-xs font-bold rounded">银 15</span>
                          <span class="px-2 py-0.5 bg-orange-100 text-orange-700 text-xs font-bold rounded">铜 15</span>
                      </div>
                  </div>
              </div>

              <!-- 2. 图表区域 -->
              <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                  <!-- Chart 1 (New): 赛事热度趋势 (Line Chart) -->
                  <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                      <div class="flex justify-between items-center mb-6">
                          <h3 class="font-bold text-slate-800">赛事热度趋势</h3>
                          <select class="text-xs border-none bg-slate-50 text-slate-500 rounded p-1 outline-none">
                              <option>近7天</option>
                              <option>近24小时</option>
                          </select>
                      </div>
                      <div class="h-64 relative flex items-end justify-between gap-2 px-2 pb-6 pt-10">
                          <!-- Y-axis Grid Lines -->
                          <div class="absolute inset-0 top-10 bottom-6 flex flex-col justify-between pointer-events-none">
                              <div class="w-full h-px bg-slate-50"></div>
                              <div class="w-full h-px bg-slate-50"></div>
                              <div class="w-full h-px bg-slate-50"></div>
                              <div class="w-full h-px bg-slate-50"></div>
                              <div class="w-full h-px bg-slate-50"></div>
                          </div>
                          
                          <!-- SVG Line Chart -->
                          <svg class="absolute inset-0 w-full h-full pointer-events-none" preserveAspectRatio="none" viewBox="0 0 100 100">
                              <!-- Gradient Definition -->
                              <defs>
                                  <linearGradient id="lineGradient" x1="0" x2="0" y1="0" y2="1">
                                      <stop offset="0%" stop-color="#6366f1" stop-opacity="0.2"/>
                                      <stop offset="100%" stop-color="#6366f1" stop-opacity="0"/>
                                  </linearGradient>
                              </defs>
                              <!-- Area -->
                              <path d="M0,100 L0,70 L16,60 L32,80 L48,50 L64,40 L80,55 L100,30 L100,100 Z" fill="url(#lineGradient)" />
                              <!-- Line -->
                              <path d="M0,70 L16,60 L32,80 L48,50 L64,40 L80,55 L100,30" fill="none" stroke="#6366f1" stroke-width="2" vector-effect="non-scaling-stroke" stroke-linecap="round" stroke-linejoin="round" />
                          </svg>

                          <!-- Data Points (Interactive Hover) -->
                          <div class="absolute left-[16%] top-[60%] w-2 h-2 bg-white border-2 border-brand-500 rounded-full z-10 hover:scale-150 transition cursor-pointer" title="周二: 1,204人"></div>
                          <div class="absolute left-[32%] top-[80%] w-2 h-2 bg-white border-2 border-brand-500 rounded-full z-10 hover:scale-150 transition cursor-pointer" title="周三: 980人"></div>
                          <div class="absolute left-[48%] top-[50%] w-2 h-2 bg-white border-2 border-brand-500 rounded-full z-10 hover:scale-150 transition cursor-pointer" title="周四: 2,100人"></div>
                          <div class="absolute left-[64%] top-[40%] w-2 h-2 bg-white border-2 border-brand-500 rounded-full z-10 hover:scale-150 transition cursor-pointer" title="周五: 2,500人"></div>
                          <div class="absolute left-[80%] top-[55%] w-2 h-2 bg-white border-2 border-brand-500 rounded-full z-10 hover:scale-150 transition cursor-pointer" title="周六: 1,800人"></div>
                          
                          <!-- X-axis Labels -->
                          <div class="absolute bottom-0 left-0 w-full flex justify-between text-[10px] text-slate-400">
                              <span>周一</span>
                              <span>周二</span>
                              <span>周三</span>
                              <span>周四</span>
                              <span>周五</span>
                              <span>周六</span>
                              <span>周日</span>
                          </div>
                      </div>
                  </div>

                  <!-- Chart 2: 参赛项目分布 (Bar Chart) -->
                  <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                      <div class="flex justify-between items-center mb-6">
                          <h3 class="font-bold text-slate-800">各项目参赛人数分布</h3>
                          <button class="text-slate-400 hover:text-brand-600"><i class="fa-solid fa-ellipsis"></i></button>
                      </div>
                      <div class="space-y-4">
                          <!-- Bar Item -->
                          <div>
                              <div class="flex justify-between text-sm mb-1">
                                  <span class="text-slate-600">五人操</span>
                                  <span class="font-bold text-slate-800">85人</span>
                              </div>
                              <div class="w-full bg-slate-50 rounded-full h-3 overflow-hidden">
                                  <div class="bg-brand-500 h-full rounded-full" style="width: 85%"></div>
                              </div>
                          </div>
                          <div>
                              <div class="flex justify-between text-sm mb-1">
                                  <span class="text-slate-600">有氧舞蹈</span>
                                  <span class="font-bold text-slate-800">64人</span>
                              </div>
                              <div class="w-full bg-slate-50 rounded-full h-3 overflow-hidden">
                                  <div class="bg-blue-500 h-full rounded-full" style="width: 64%"></div>
                              </div>
                          </div>
                          <div>
                              <div class="flex justify-between text-sm mb-1">
                                  <span class="text-slate-600">有氧踏板</span>
                                  <span class="font-bold text-slate-800">42人</span>
                              </div>
                              <div class="w-full bg-slate-50 rounded-full h-3 overflow-hidden">
                                  <div class="bg-emerald-500 h-full rounded-full" style="width: 42%"></div>
                              </div>
                          </div>
                          <div>
                              <div class="flex justify-between text-sm mb-1">
                                  <span class="text-slate-600">混合双人操</span>
                                  <span class="font-bold text-slate-800">32人</span>
                              </div>
                              <div class="w-full bg-slate-50 rounded-full h-3 overflow-hidden">
                                  <div class="bg-amber-500 h-full rounded-full" style="width: 32%"></div>
                              </div>
                          </div>
                          <div>
                              <div class="flex justify-between text-sm mb-1">
                                  <span class="text-slate-600">男子单人操</span>
                                  <span class="font-bold text-slate-800">25人</span>
                              </div>
                              <div class="w-full bg-slate-50 rounded-full h-3 overflow-hidden">
                                  <div class="bg-purple-500 h-full rounded-full" style="width: 25%"></div>
                              </div>
                          </div>
                      </div>
                  </div>

                  <!-- Chart 2: 团体总分排名 -->
                  <div class="bg-white p-6 rounded-2xl border border-slate-100 shadow-sm">
                      <div class="flex justify-between items-center mb-6">
                          <h3 class="font-bold text-slate-800">团体总分排名 (Top 5)</h3>
                          <button class="text-xs text-brand-600 font-medium hover:underline">查看全部</button>
                      </div>
                      <div class="space-y-4">
                          <div class="flex items-center gap-4">
                              <div class="w-8 h-8 rounded-full bg-yellow-100 text-yellow-600 flex items-center justify-center font-bold text-sm">1</div>
                              <div class="flex-1">
                                  <p class="font-bold text-slate-800 text-sm">飞跃队</p>
                                  <p class="text-xs text-slate-400">总分: 98.5</p>
                              </div>
                              <i class="fa-solid fa-trophy text-yellow-400"></i>
                          </div>
                          <div class="flex items-center gap-4">
                              <div class="w-8 h-8 rounded-full bg-slate-100 text-slate-600 flex items-center justify-center font-bold text-sm">2</div>
                              <div class="flex-1">
                                  <p class="font-bold text-slate-800 text-sm">先锋体育</p>
                                  <p class="text-xs text-slate-400">总分: 95.2</p>
                              </div>
                          </div>
                          <div class="flex items-center gap-4">
                              <div class="w-8 h-8 rounded-full bg-orange-50 text-orange-600 flex items-center justify-center font-bold text-sm">3</div>
                              <div class="flex-1">
                                  <p class="font-bold text-slate-800 text-sm">活力无限</p>
                                  <p class="text-xs text-slate-400">总分: 92.8</p>
                              </div>
                          </div>
                          <div class="flex items-center gap-4">
                              <div class="w-8 h-8 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center font-bold text-sm">4</div>
                              <div class="flex-1">
                                  <p class="font-bold text-slate-800 text-sm">雷霆战队</p>
                                  <p class="text-xs text-slate-400">总分: 88.5</p>
                              </div>
                          </div>
                          <div class="flex items-center gap-4">
                              <div class="w-8 h-8 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center font-bold text-sm">5</div>
                              <div class="flex-1">
                                  <p class="font-bold text-slate-800 text-sm">极光俱乐部</p>
                                  <p class="text-xs text-slate-400">总分: 86.0</p>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>

              <!-- 3. 赛事预告 & 最新奖项 -->
              <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                  <!-- 赛事预告 -->
                  <div class="bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden">
                      <div class="p-6 border-b border-slate-100 flex justify-between items-center">
                          <h3 class="font-bold text-slate-800">即将开始</h3>
                          <span class="text-xs text-slate-500 bg-slate-100 px-2 py-1 rounded">今天 14:00 后</span>
                      </div>
                      <div class="divide-y divide-slate-100">
                          <div class="p-4 flex items-center gap-4 hover:bg-slate-50 transition">
                              <div class="bg-brand-50 text-brand-600 px-3 py-2 rounded-lg text-center min-w-[60px]">
                                  <div class="text-xs font-bold">14:00</div>
                                  <div class="text-[10px] opacity-75">主馆</div>
                              </div>
                              <div class="flex-1">
                                  <h4 class="text-sm font-bold text-slate-800">混合双人操 (决赛)</h4>
                                  <p class="text-xs text-slate-500">飞跃队 vs 先锋体育</p>
                              </div>
                              <button class="text-xs border border-brand-200 text-brand-600 px-3 py-1.5 rounded-lg hover:bg-brand-50">详情</button>
                          </div>
                          <div class="p-4 flex items-center gap-4 hover:bg-slate-50 transition">
                              <div class="bg-slate-50 text-slate-600 px-3 py-2 rounded-lg text-center min-w-[60px]">
                                  <div class="text-xs font-bold">14:45</div>
                                  <div class="text-[10px] opacity-75">主馆</div>
                              </div>
                              <div class="flex-1">
                                  <h4 class="text-sm font-bold text-slate-800">三人操 (预赛)</h4>
                                  <p class="text-xs text-slate-500">小组赛 C组</p>
                              </div>
                              <button class="text-xs border border-slate-200 text-slate-600 px-3 py-1.5 rounded-lg hover:bg-slate-50">详情</button>
                          </div>
                          <div class="p-4 flex items-center gap-4 hover:bg-slate-50 transition">
                              <div class="bg-slate-50 text-slate-600 px-3 py-2 rounded-lg text-center min-w-[60px]">
                                  <div class="text-xs font-bold">15:30</div>
                                  <div class="text-[10px] opacity-75">副馆</div>
                              </div>
                              <div class="flex-1">
                                  <h4 class="text-sm font-bold text-slate-800">有氧踏板 (资格赛)</h4>
                                  <p class="text-xs text-slate-500">第二轮</p>
                              </div>
                              <button class="text-xs border border-slate-200 text-slate-600 px-3 py-1.5 rounded-lg hover:bg-slate-50">详情</button>
                          </div>
                      </div>
                  </div>

                  <!-- 最新获奖 -->
                  <div class="bg-white rounded-2xl border border-slate-100 shadow-sm overflow-hidden">
                      <div class="p-6 border-b border-slate-100 flex justify-between items-center">
                          <h3 class="font-bold text-slate-800">最新获奖</h3>
                          <button class="text-brand-600 text-sm hover:underline">查看榜单</button>
                      </div>
                      <div class="divide-y divide-slate-100">
                          <div class="p-4 flex items-center gap-4">
                              <div class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600">
                                  <i class="fa-solid fa-medal"></i>
                              </div>
                              <div class="flex-1">
                                  <h4 class="text-sm font-bold text-slate-800">张伟 <span class="text-xs font-normal text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded ml-2">飞跃队</span></h4>
                                  <p class="text-xs text-slate-500">男子单人操 - 冠军 (18.5分)</p>
                              </div>
                              <span class="text-xs text-slate-400">10分钟前</span>
                          </div>
                          <div class="p-4 flex items-center gap-4">
                              <div class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500">
                                  <i class="fa-solid fa-medal"></i>
                              </div>
                              <div class="flex-1">
                                  <h4 class="text-sm font-bold text-slate-800">李强 <span class="text-xs font-normal text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded ml-2">先锋体育</span></h4>
                                  <p class="text-xs text-slate-500">男子单人操 - 亚军 (18.2分)</p>
                              </div>
                              <span class="text-xs text-slate-400">10分钟前</span>
                          </div>
                          <div class="p-4 flex items-center gap-4">
                              <div class="w-10 h-10 rounded-full bg-orange-100 flex items-center justify-center text-orange-600">
                                  <i class="fa-solid fa-medal"></i>
                              </div>
                              <div class="flex-1">
                                  <h4 class="text-sm font-bold text-slate-800">陈静 / 王军 <span class="text-xs font-normal text-slate-500 bg-slate-100 px-1.5 py-0.5 rounded ml-2">飞跃队</span></h4>
                                  <p class="text-xs text-slate-500">混合双人操 - 季军 (17.8分)</p>
                              </div>
                              <span class="text-xs text-slate-400">25分钟前</span>
                          </div>
                      </div>
                  </div>
              </div>
          </div>

          <!-- TAB 1: 赛事管理 (Events) -->
          <div id="view-events" class="space-y-6">
              
              <!-- 列表视图 -->
              <div id="events-list-view" class="animate-fade-in">
                  <div class="flex justify-between items-end mb-6">
                      <div>
                          <h1 class="text-2xl font-bold text-slate-800">所有赛事</h1>
                          <p class="text-slate-500 mt-1">管理您的所有体育竞赛活动</p>
                      </div>
                      <button onclick="toggleDrawer('create-event-drawer')" class="bg-brand-600 hover:bg-brand-700 text-white px-5 py-2.5 rounded-xl shadow-lg shadow-brand-500/30 flex items-center gap-2 transition-all transform hover:scale-105">
                          <i class="fa-solid fa-plus"></i> 创建赛事
                      </button>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                      <!-- Card 1: 筹备中 -->
                      <div onclick="openEventDetail(1)" class="group bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl border border-slate-100 cursor-pointer transition-all duration-300 relative overflow-hidden">
                          <div class="absolute top-0 right-0 w-24 h-24 bg-amber-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"></div>
                          <span class="relative inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-800 mb-4">
                              <span class="w-1.5 h-1.5 bg-amber-500 rounded-full mr-1.5"></span> 筹备中
                          </span>
                          <h3 class="relative text-lg font-bold text-slate-800 mb-2 group-hover:text-brand-600 transition-colors">2026 春季华东师范健美操大赛</h3>
                          <div class="relative space-y-2 text-sm text-slate-500 mb-4">
                              <p><i class="fa-regular fa-building w-5"></i> 科技园工会</p>
                              <p><i class="fa-solid fa-location-dot w-5"></i> 市体育中心副场</p>
                              <p><i class="fa-regular fa-calendar w-5"></i> 2025/04/10 - 04/12</p>
                          </div>
                          <div class="relative pt-4 border-t border-slate-100 flex justify-between items-center">
                              <div class="flex -space-x-2">
                                  <img class="w-8 h-8 rounded-full border-2 border-white" src="https://api.dicebear.com/7.x/avataaars/svg?seed=1" alt="">
                                  <img class="w-8 h-8 rounded-full border-2 border-white" src="https://api.dicebear.com/7.x/avataaars/svg?seed=2" alt="">
                                  <div class="w-8 h-8 rounded-full border-2 border-white bg-slate-100 flex items-center justify-center text-xs text-slate-500">+12</div>
                              </div>
                              <span class="text-brand-600 text-sm font-medium group-hover:translate-x-1 transition-transform">管理详情 <i class="fa-solid fa-arrow-right ml-1"></i></span>
                          </div>
                      </div>

                      <!-- Card 2: 进行中 -->
                      <div onclick="openEventDetail(2)" class="group bg-white rounded-2xl p-6 shadow-sm hover:shadow-xl border border-slate-100 cursor-pointer transition-all duration-300 relative overflow-hidden">
                          <div class="absolute top-0 right-0 w-24 h-24 bg-emerald-50 rounded-bl-full -mr-4 -mt-4 transition-transform group-hover:scale-110"></div>
                          <span class="relative inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 mb-4 animate-pulse">
                              <span class="w-1.5 h-1.5 bg-emerald-500 rounded-full mr-1.5"></span> 进行中
                          </span>
                          <h3 class="relative text-lg font-bold text-slate-800 mb-2 group-hover:text-brand-600 transition-colors">第十届社区篮球联赛</h3>
                          <div class="relative space-y-2 text-sm text-slate-500 mb-4">
                              <p><i class="fa-regular fa-building w-5"></i> 街道办事处</p>
                              <p><i class="fa-solid fa-location-dot w-5"></i> 社区公园篮球场</p>
                              <p><i class="fa-regular fa-calendar w-5"></i> 2025/03/01 - 03/15</p>
                          </div>
                          <div class="relative pt-4 border-t border-slate-100 flex justify-between items-center">
                              <div class="text-xs text-slate-500">赛程进度: 45%</div>
                              <div class="w-24 h-1.5 bg-slate-100 rounded-full overflow-hidden">
                                  <div class="h-full bg-emerald-500 w-[45%]"></div>
                              </div>
                          </div>
                      </div>

                      <!-- Card 3: 已结束 -->
                      <div onclick="openEventDetail(3)" class="group bg-white rounded-2xl p-6 shadow-sm hover:shadow-md border border-slate-100 cursor-pointer transition-all duration-300 opacity-80 hover:opacity-100 relative overflow-hidden">
                          <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-600 mb-4">
                              <span class="w-1.5 h-1.5 bg-slate-400 rounded-full mr-1.5"></span> 已结束
                          </span>
                          <h3 class="text-lg font-bold text-slate-800 mb-2">2024 冬季长跑挑战赛</h3>
                          <div class="space-y-2 text-sm text-slate-500 mb-4">
                              <p><i class="fa-regular fa-building w-5"></i> 跑友俱乐部</p>
                              <p><i class="fa-solid fa-location-dot w-5"></i> 滨江大道</p>
                              <p><i class="fa-regular fa-calendar w-5"></i> 2024/12/20</p>
                          </div>
                          <div class="pt-4 border-t border-slate-100 flex justify-between items-center">
                              <span class="text-xs text-slate-400">已归档数据</span>
                              <span class="text-slate-600 text-sm hover:text-brand-600">查看回顾</span>
                          </div>
                      </div>
                  </div>
              </div>

              <!-- 详情视图 (默认隐藏) -->
              <div id="events-detail-view" class="hidden space-y-8 animate-fade-in pb-20">
                  <!-- 顶部导航 -->
                  <button onclick="closeEventDetail()" class="flex items-center text-sm text-slate-500 hover:text-brand-600 transition mb-4">
                      <i class="fa-solid fa-arrow-left mr-2"></i> 返回赛事列表
                  </button>

                  <!-- Part 1: 基本信息 -->
                  <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 relative overflow-hidden">
                      <div class="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-brand-50 to-transparent rounded-bl-full opacity-50 pointer-events-none"></div>
                      <div class="flex justify-between items-start relative">
                          <div>
                              <div class="flex items-center gap-3 mb-2">
                                  <h1 class="text-3xl font-bold text-slate-800">2026 春季华东师范健美操大赛</h1>
                                  <span class="px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800">筹备中</span>
                              </div>
                              <p class="text-slate-500 max-w-2xl">旨在增强企业员工凝聚力，提倡健康生活方式的综合性趣味运动会。</p>
                          </div>
                          <div class="flex gap-3">
                              <button class="px-4 py-2 bg-white border border-slate-200 rounded-lg text-slate-600 hover:bg-slate-50 text-sm">编辑信息</button>
                              <button class="px-4 py-2 bg-brand-600 text-white rounded-lg hover:bg-brand-700 text-sm">发布赛事</button>
                          </div>
                      </div>
                      <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mt-8">
                          <div class="p-4 bg-slate-50 rounded-xl">
                              <p class="text-xs text-slate-400 uppercase font-bold mb-1">主办方</p>
                              <p class="font-semibold text-slate-700">科技园工会委员会</p>
                          </div>
                          <div class="p-4 bg-slate-50 rounded-xl">
                              <p class="text-xs text-slate-400 uppercase font-bold mb-1">场馆地点</p>
                              <p class="font-semibold text-slate-700">市体育中心副场</p>
                          </div>
                          <div class="p-4 bg-slate-50 rounded-xl">
                              <p class="text-xs text-slate-400 uppercase font-bold mb-1">赛事规模</p>
                              <p class="font-semibold text-slate-700">中型 (200-500人)</p>
                          </div>
                          <div class="p-4 bg-slate-50 rounded-xl">
                              <p class="text-xs text-slate-400 uppercase font-bold mb-1">时间安排</p>
                              <p class="font-semibold text-slate-700">2025/04/10 - 04/12</p>
                          </div>
                      </div>
                  </div>

                  <!-- Part 2: 角色管理 -->
                  <div>
                      <h3 class="text-lg font-bold text-slate-800 mb-4 flex items-center gap-2">
                          <i class="fa-solid fa-users text-brand-500"></i> 角色与人员
                      </h3>
                      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                          <!-- 参赛队伍 -->
                          <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition">
                              <div class="flex justify-between items-start mb-4">
                                  <div class="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 text-xl">
                                      <i class="fa-solid fa-shirt"></i>
                                  </div>
                                  <button onclick="openRoleDrawer('team')" class="text-sm text-brand-600 hover:underline">查看详情</button>
                              </div>
                              <h4 class="text-lg font-bold text-slate-800">参赛队伍</h4>
                              <div class="mt-4 space-y-2">
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">已报名队伍</span>
                                      <span class="font-medium">12 支</span>
                                  </div>
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">参赛总人数</span>
                                      <span class="font-medium">248 人</span>
                                  </div>
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">领队人数</span>
                                      <span class="font-medium">12 人</span>
                                  </div>
                              </div>
                          </div>

                          <!-- 裁判组 -->
                          <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition">
                              <div class="flex justify-between items-start mb-4">
                                  <div class="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600 text-xl">
                                      <i class="fa-solid fa-gavel"></i>
                                  </div>
                                  <button onclick="openRoleDrawer('referee')" class="text-sm text-brand-600 hover:underline">查看详情</button>
                              </div>
                              <h4 class="text-lg font-bold text-slate-800">裁判组</h4>
                              <div class="mt-4 space-y-2">
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">总裁判长</span>
                                      <span class="font-medium">张伟</span>
                                  </div>
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">田径组 (A组)</span>
                                      <span class="font-medium">8 人</span>
                                  </div>
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">趣味组 (B组)</span>
                                      <span class="font-medium">12 人</span>
                                  </div>
                              </div>
                          </div>

                          <!-- 支撑组 -->
                          <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 hover:shadow-md transition">
                              <div class="flex justify-between items-start mb-4">
                                  <div class="w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center text-purple-600 text-xl">
                                      <i class="fa-solid fa-headset"></i>
                                  </div>
                                  <button onclick="openRoleDrawer('support')" class="text-sm text-brand-600 hover:underline">查看详情</button>
                              </div>
                              <h4 class="text-lg font-bold text-slate-800">支撑组</h4>
                              <div class="mt-4 space-y-2">
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">播报员</span>
                                      <span class="font-medium">2 人</span>
                                  </div>
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">记录员</span>
                                      <span class="font-medium">4 人</span>
                                  </div>
                                  <div class="flex justify-between text-sm">
                                      <span class="text-slate-500">志愿者</span>
                                      <span class="font-medium">20 人</span>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>

                  <!-- Part 3: 赛程面板 -->
                  <div>
                      <div class="flex justify-between items-center mb-4">
                          <h3 class="text-lg font-bold text-slate-800 flex items-center gap-2">
                              <i class="fa-regular fa-calendar-check text-brand-500"></i> 赛程安排
                          </h3>
                          <div class="flex items-center gap-2 ml-auto mr-4 bg-white p-1 rounded-lg border border-slate-200">
                              <button onclick="switchScheduleView('list')" id="btn-view-list" class="px-3 py-1.5 text-xs font-medium rounded-md bg-brand-50 text-brand-600 shadow-sm transition-all">
                                  <i class="fa-solid fa-list mr-1"></i> 列表
                              </button>
                              <button onclick="switchScheduleView('gantt')" id="btn-view-gantt" class="px-3 py-1.5 text-xs font-medium rounded-md text-slate-500 hover:text-slate-700 hover:bg-slate-50 transition-all">
                                  <i class="fa-solid fa-chart-bar mr-1"></i> 甘特图
                              </button>
                          </div>
                          <button onclick="toggleModal('schedule-modal')" class="text-sm font-medium text-brand-600 hover:text-brand-700 bg-brand-50 px-3 py-1.5 rounded-lg transition">
                              <i class="fa-solid fa-pen-to-square mr-1"></i> 管理赛程
                          </button>
                      </div>
                      
                      <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                          <!-- 日期 Tabs -->
                          <div class="flex border-b border-slate-100">
                              <button class="px-6 py-3 text-sm font-medium text-brand-600 border-b-2 border-brand-600 bg-brand-50/50">4月10日 (第一天)</button>
                              <button class="px-6 py-3 text-sm font-medium text-slate-500 hover:text-slate-700">4月11日 (第二天)</button>
                              <button class="px-6 py-3 text-sm font-medium text-slate-500 hover:text-slate-700">4月12日 (第三天)</button>
                          </div>
                          
                          <!-- 赛程列表 -->
                          <!-- 赛程列表视图 -->
                          <div id="schedule-list-view" class="divide-y divide-slate-100 animate-fade-in">
                              <!-- Item 1 -->
                              <div class="p-4 hover:bg-slate-50 transition flex items-start gap-4">
                                  <div class="min-w-[80px] text-center pt-1">
                                      <div class="text-lg font-bold text-slate-800">09:00</div>
                                      <div class="text-xs text-slate-400">09:45</div>
                                  </div>
                                  <div class="w-1 h-auto min-h-[3rem] bg-blue-500 rounded-full self-stretch my-1"></div>
                                  <div class="flex-1">
                                      <div class="flex justify-between items-start">
                                          <div>
                                              <h4 class="font-bold text-slate-800">男子单人操 (预赛)</h4>
                                              <p class="text-sm text-slate-500 mb-2"><i class="fa-solid fa-location-dot mr-1"></i> 体育馆 主馆 (A区)</p>
                                          </div>
                                          <span class="px-2 py-1 rounded bg-slate-100 text-xs text-slate-500 whitespace-nowrap ml-2">未开始</span>
                                      </div>
                                      
                                      <!-- 参赛名单预览 -->
                                      <div class="bg-blue-50/50 rounded-lg p-3 border border-blue-100/50">
                                          <p class="text-xs font-bold text-blue-800 mb-1.5 flex items-center gap-1">
                                              <i class="fa-solid fa-user-tag"></i> 登场选手 (第一组)
                                          </p>
                                          <div class="flex flex-wrap gap-2">
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-blue-100 shadow-sm">
                                                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Zhang" class="w-4 h-4 rounded-full">
                                                  <span class="text-xs text-slate-700">张伟 <span class="text-slate-400 scale-75 inline-block">(科技园)</span></span>
                                              </div>
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-blue-100 shadow-sm">
                                                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Li" class="w-4 h-4 rounded-full">
                                                  <span class="text-xs text-slate-700">李强 <span class="text-slate-400 scale-75 inline-block">(街道办)</span></span>
                                              </div>
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-blue-100 shadow-sm">
                                                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Wang" class="w-4 h-4 rounded-full">
                                                  <span class="text-xs text-slate-700">王军 <span class="text-slate-400 scale-75 inline-block">(教育局)</span></span>
                                              </div>
                                              <span class="text-xs text-slate-400 self-center">+21人</span>
                                          </div>
                                      </div>
                                  </div>
                              </div>

                              <!-- Item 2 -->
                              <div class="p-4 hover:bg-slate-50 transition flex items-start gap-4">
                                  <div class="min-w-[80px] text-center pt-1">
                                      <div class="text-lg font-bold text-slate-800">09:30</div>
                                      <div class="text-xs text-slate-400">10:15</div>
                                  </div>
                                  <div class="w-1 h-auto min-h-[3rem] bg-pink-500 rounded-full self-stretch my-1"></div>
                                  <div class="flex-1">
                                      <div class="flex justify-between items-start">
                                          <div>
                                              <h4 class="font-bold text-slate-800">女子单人操 (预赛)</h4>
                                              <p class="text-sm text-slate-500 mb-2"><i class="fa-solid fa-location-dot mr-1"></i> 体育馆 副馆 (B区)</p>
                                          </div>
                                          <span class="px-2 py-1 rounded bg-slate-100 text-xs text-slate-500 whitespace-nowrap ml-2">未开始</span>
                                      </div>

                                      <!-- 参赛名单预览 -->
                                      <div class="bg-pink-50/50 rounded-lg p-3 border border-pink-100/50">
                                          <p class="text-xs font-bold text-pink-800 mb-1.5 flex items-center gap-1">
                                              <i class="fa-solid fa-user-tag"></i> 登场选手 (第一组)
                                          </p>
                                          <div class="flex flex-wrap gap-2">
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-pink-100 shadow-sm">
                                                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Chen" class="w-4 h-4 rounded-full">
                                                  <span class="text-xs text-slate-700">陈静 <span class="text-slate-400 scale-75 inline-block">(卫生局)</span></span>
                                              </div>
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-pink-100 shadow-sm">
                                                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Liu" class="w-4 h-4 rounded-full">
                                                  <span class="text-xs text-slate-700">刘洋 <span class="text-slate-400 scale-75 inline-block">(科技园)</span></span>
                                              </div>
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-pink-100 shadow-sm">
                                                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Zhao" class="w-4 h-4 rounded-full">
                                                  <span class="text-xs text-slate-700">赵敏 <span class="text-slate-400 scale-75 inline-block">(社区)</span></span>
                                              </div>
                                              <span class="text-xs text-slate-400 self-center">+33人</span>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                              
                              <!-- Item 3 -->
                              <div class="p-4 hover:bg-slate-50 transition flex items-start gap-4">
                                  <div class="min-w-[80px] text-center pt-1">
                                      <div class="text-lg font-bold text-slate-800">10:30</div>
                                      <div class="text-xs text-slate-400">11:30</div>
                                  </div>
                                  <div class="w-1 h-auto min-h-[3rem] bg-purple-500 rounded-full self-stretch my-1"></div>
                                  <div class="flex-1">
                                      <div class="flex justify-between items-start">
                                          <div>
                                              <h4 class="font-bold text-slate-800">混合双人操 & 三人操 (决赛)</h4>
                                              <p class="text-sm text-slate-500 mb-2"><i class="fa-solid fa-location-dot mr-1"></i> 体育馆 主馆 (A区)</p>
                                          </div>
                                          <span class="px-2 py-1 rounded bg-slate-100 text-xs text-slate-500 whitespace-nowrap ml-2">未开始</span>
                                      </div>

                                      <!-- 参赛名单预览 -->
                                      <div class="bg-purple-50/50 rounded-lg p-3 border border-purple-100/50">
                                          <p class="text-xs font-bold text-purple-800 mb-1.5 flex items-center gap-1">
                                              <i class="fa-solid fa-users"></i> 参赛组合
                                          </p>
                                          <div class="flex flex-wrap gap-2">
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-purple-100 shadow-sm">
                                                  <span class="w-2 h-2 rounded-full bg-purple-500"></span>
                                                  <span class="text-xs text-slate-700 font-medium">飞跃组合 <span class="text-slate-400 font-normal">(张/王)</span></span>
                                              </div>
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-purple-100 shadow-sm">
                                                  <span class="w-2 h-2 rounded-full bg-purple-500"></span>
                                                  <span class="text-xs text-slate-700 font-medium">极光队 <span class="text-slate-400 font-normal">(三人)</span></span>
                                              </div>
                                              <div class="flex items-center gap-1.5 bg-white px-2 py-1 rounded border border-purple-100 shadow-sm">
                                                  <span class="w-2 h-2 rounded-full bg-purple-500"></span>
                                                  <span class="text-xs text-slate-700 font-medium">梦之队 <span class="text-slate-400 font-normal">(三人)</span></span>
                                              </div>
                                              <span class="text-xs text-slate-400 self-center">+9组</span>
                                          </div>
                                      </div>
                                  </div>
                              </div>

                              <!-- Item 4 -->
                              <div class="p-4 hover:bg-slate-50 transition flex items-start gap-4">
                                  <div class="min-w-[80px] text-center pt-1">
                                      <div class="text-lg font-bold text-slate-800">14:00</div>
                                      <div class="text-xs text-slate-400">15:30</div>
                                  </div>
                                  <div class="w-1 h-auto min-h-[3rem] bg-orange-500 rounded-full self-stretch my-1"></div>
                                  <div class="flex-1">
                                      <div class="flex justify-between items-start">
                                          <div>
                                              <h4 class="font-bold text-slate-800">五人操 (决赛)</h4>
                                              <p class="text-sm text-slate-500 mb-2"><i class="fa-solid fa-location-dot mr-1"></i> 体育馆 主馆 (A区)</p>
                                          </div>
                                          <span class="px-2 py-1 rounded bg-slate-100 text-xs text-slate-500 whitespace-nowrap ml-2">未开始</span>
                                      </div>

                                      <!-- 参赛名单预览 -->
                                      <div class="bg-orange-50/50 rounded-lg p-3 border border-orange-100/50">
                                          <p class="text-xs font-bold text-orange-800 mb-1.5 flex items-center gap-1">
                                              <i class="fa-solid fa-users-rectangle"></i> 参赛队伍
                                          </p>
                                          <div class="flex flex-wrap gap-2">
                                              <span class="px-2 py-1 bg-white border border-orange-200 text-xs text-slate-700 rounded shadow-sm">雄鹰队</span>
                                              <span class="px-2 py-1 bg-white border border-orange-200 text-xs text-slate-700 rounded shadow-sm">蓝天队</span>
                                              <span class="px-2 py-1 bg-white border border-orange-200 text-xs text-slate-700 rounded shadow-sm">火焰队</span>
                                              <span class="px-2 py-1 bg-white border border-orange-200 text-xs text-slate-700 rounded shadow-sm">闪电队</span>
                                              <span class="text-xs text-slate-400 self-center">+4队</span>
                                          </div>
                                      </div>
                                  </div>
                              </div>

                              <!-- Item 5 -->
                              <div class="p-4 hover:bg-slate-50 transition flex items-start gap-4">
                                  <div class="min-w-[80px] text-center pt-1">
                                      <div class="text-lg font-bold text-slate-800">16:00</div>
                                      <div class="text-xs text-slate-400">17:30</div>
                                  </div>
                                  <div class="w-1 h-auto min-h-[3rem] bg-emerald-500 rounded-full self-stretch my-1"></div>
                                  <div class="flex-1">
                                      <div class="flex justify-between items-start">
                                          <div>
                                              <h4 class="font-bold text-slate-800">有氧舞蹈 & 有氧踏板 (表演赛)</h4>
                                              <p class="text-sm text-slate-500 mb-2"><i class="fa-solid fa-location-dot mr-1"></i> 体育馆 主馆 (A区)</p>
                                          </div>
                                          <span class="px-2 py-1 rounded bg-slate-100 text-xs text-slate-500 whitespace-nowrap ml-2">未开始</span>
                                      </div>

                                      <!-- 参赛名单预览 -->
                                      <div class="bg-emerald-50/50 rounded-lg p-3 border border-emerald-100/50">
                                          <p class="text-xs font-bold text-emerald-800 mb-1.5 flex items-center gap-1">
                                              <i class="fa-solid fa-music"></i> 表演团队
                                          </p>
                                          <div class="flex flex-wrap gap-2">
                                              <span class="px-2 py-1 bg-white border border-emerald-200 text-xs text-slate-700 rounded shadow-sm">街道代表队</span>
                                              <span class="px-2 py-1 bg-white border border-emerald-200 text-xs text-slate-700 rounded shadow-sm">老年大学队</span>
                                              <span class="px-2 py-1 bg-white border border-emerald-200 text-xs text-slate-700 rounded shadow-sm">企业联队</span>
                                              <span class="text-xs text-slate-400 self-center">+7队</span>
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>

                          <!-- 甘特图视图 -->
                          <div id="schedule-gantt-view" class="hidden p-6 animate-fade-in overflow-x-auto">
                              <div class="min-w-[800px]">
                                  <!-- 时间轴 Header -->
                                  <div class="flex mb-4 text-xs text-slate-400 border-b border-slate-100 pb-2">
                                      <div class="w-24 flex-shrink-0">场地</div>
                                      <div class="flex-1 flex justify-between">
                                          <span>08:00</span><span>09:00</span><span>10:00</span><span>11:00</span><span>12:00</span>
                                          <span>13:00</span><span>14:00</span><span>15:00</span><span>16:00</span><span>17:00</span><span>18:00</span>
                                      </div>
                                  </div>

                                  <!-- Lane 1: 主馆 -->
                                  <div class="flex items-center mb-6 relative h-16 bg-slate-50 rounded-lg border border-slate-100">
                                      <div class="w-24 flex-shrink-0 px-2 text-xs font-bold text-slate-600 border-r border-slate-200 h-full flex items-center bg-white rounded-l-lg z-10">
                                          体育馆<br>主馆 (A区)
                                      </div>
                                      <div class="flex-1 relative h-full">
                                          <!-- Grid Lines -->
                                          <div class="absolute inset-0 flex">
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                          </div>
                                          
                                          <!-- Events -->
                                          <!-- Event 1: 09:00 - 09:45 -->
                                          <div class="absolute top-2 bottom-2 bg-blue-100 border border-blue-200 rounded text-blue-700 text-[10px] p-1 overflow-hidden leading-tight hover:shadow-lg transition cursor-pointer" 
                                               style="left: 10%; width: 7.5%;">
                                              男子单人操
                                          </div>

                                          <!-- Event 3: 10:30 - 11:30 -->
                                          <div class="absolute top-2 bottom-2 bg-purple-100 border border-purple-200 rounded text-purple-700 text-[10px] p-1 overflow-hidden leading-tight hover:shadow-lg transition cursor-pointer" 
                                               style="left: 25%; width: 10%;">
                                              混合双人/三人
                                          </div>

                                          <!-- Event 4: 14:00 - 15:30 -->
                                          <div class="absolute top-2 bottom-2 bg-orange-100 border border-orange-200 rounded text-orange-700 text-[10px] p-1 overflow-hidden leading-tight hover:shadow-lg transition cursor-pointer" 
                                               style="left: 60%; width: 15%;">
                                              五人操决赛
                                          </div>

                                          <!-- Event 5: 16:00 - 17:30 -->
                                          <div class="absolute top-2 bottom-2 bg-emerald-100 border border-emerald-200 rounded text-emerald-700 text-[10px] p-1 overflow-hidden leading-tight hover:shadow-lg transition cursor-pointer" 
                                               style="left: 80%; width: 15%;">
                                              有氧舞蹈/踏板
                                          </div>
                                      </div>
                                  </div>

                                  <!-- Lane 2: 副馆 -->
                                  <div class="flex items-center relative h-16 bg-slate-50 rounded-lg border border-slate-100">
                                      <div class="w-24 flex-shrink-0 px-2 text-xs font-bold text-slate-600 border-r border-slate-200 h-full flex items-center bg-white rounded-l-lg z-10">
                                          体育馆<br>副馆 (B区)
                                      </div>
                                      <div class="flex-1 relative h-full">
                                          <!-- Grid Lines -->
                                          <div class="absolute inset-0 flex">
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                              <div class="w-[10%] border-r border-slate-200/50 h-full"></div>
                                          </div>

                                          <!-- Event 2: 09:30 - 10:15 -->
                                          <div class="absolute top-2 bottom-2 bg-pink-100 border border-pink-200 rounded text-pink-700 text-[10px] p-1 overflow-hidden leading-tight hover:shadow-lg transition cursor-pointer" 
                                               style="left: 15%; width: 7.5%;">
                                              女子单人操
                                          </div>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>

          <!-- TAB 2: 小程序管理 (Mini App) -->
          <div id="view-miniapp" class="hidden animate-fade-in">
              <div class="mb-8">
                  <h1 class="text-2xl font-bold text-slate-800">小程序端预览</h1>
                  <p class="text-slate-500 mt-1">查看不同角色在移动端的界面逻辑与展示效果</p>
              </div>

              <div class="flex flex-wrap gap-12 justify-center xl:justify-start">
                  
                  <!-- Phone 1: 领队 - 状态面板 -->
                  <div class="flex flex-col items-center gap-4">
                      <div class="mobile-shell">
                          <div class="notch"></div>
                          <!-- App Header -->
                          <div class="bg-brand-600 h-32 pt-12 px-6 text-white rounded-b-3xl shadow-md relative z-10">
                              <div class="flex justify-between items-center">
                                  <div>
                                      <p class="text-xs opacity-80">当前赛事</p>
                                      <h3 class="font-bold text-lg">春季趣味运动会</h3>
                                  </div>
                                  <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center"><i class="fa-regular fa-user"></i></div>
                              </div>
                          </div>
                          
                          <!-- Content -->
                          <div class="p-4 -mt-6 relative z-20 space-y-4 overflow-y-auto h-[600px]">
                              <!-- Status Card -->
                              <div class="bg-white p-4 rounded-2xl shadow-sm">
                                  <div class="flex items-center gap-3 mb-3">
                                      <div class="w-2 h-2 rounded-full bg-emerald-500"></div>
                                      <span class="text-sm font-bold text-slate-700">报名已确认</span>
                                  </div>
                                  <p class="text-xs text-slate-500 mb-3">您的队伍 "飞跃队" 已成功报名，请尽快缴纳报名费以锁定名额。</p>
                                  <button class="w-full py-2 bg-brand-600 text-white text-sm rounded-lg font-medium">立即缴费</button>
                              </div>

                              <!-- Actions Grid -->
                              <div class="grid grid-cols-2 gap-3">
                                  <div class="bg-white p-4 rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 aspect-square hover:bg-slate-50">
                                      <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center"><i class="fa-solid fa-users"></i></div>
                                      <span class="text-sm font-medium text-slate-700">我的队员</span>
                                  </div>
                                  <div class="bg-white p-4 rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 aspect-square hover:bg-slate-50">
                                      <div class="w-10 h-10 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center"><i class="fa-regular fa-calendar-days"></i></div>
                                      <span class="text-sm font-medium text-slate-700">赛程安排</span>
                                  </div>
                                  <div class="bg-white p-4 rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 aspect-square hover:bg-slate-50">
                                      <div class="w-10 h-10 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center"><i class="fa-solid fa-bullhorn"></i></div>
                                      <span class="text-sm font-medium text-slate-700">赛事通知</span>
                                  </div>
                                  <div class="bg-white p-4 rounded-2xl shadow-sm flex flex-col items-center justify-center gap-2 aspect-square hover:bg-slate-50">
                                      <div class="w-10 h-10 bg-green-100 text-green-600 rounded-full flex items-center justify-center"><i class="fa-solid fa-qrcode"></i></div>
                                      <span class="text-sm font-medium text-slate-700">电子证件</span>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <h4 class="font-bold text-slate-700">领队面板 - 状态与导航</h4>
                  </div>

                   <!-- Phone 2: 领队 - 我的队员 -->
                  <div class="flex flex-col items-center gap-4">
                      <div class="mobile-shell">
                          <div class="notch"></div>
                          <!-- App Header -->
                          <div class="bg-white h-24 pt-10 px-6 border-b border-slate-100 flex items-center justify-between sticky top-0 z-30">
                              <button class="text-slate-800"><i class="fa-solid fa-chevron-left"></i></button>
                              <h3 class="font-bold text-slate-800">我的队员</h3>
                              <button class="text-brand-600 text-sm font-medium">添加</button>
                          </div>
                          
                          <!-- Team Summary -->
                          <div class="bg-blue-50 px-6 py-3 flex items-center justify-between">
                              <span class="text-xs text-blue-800 font-bold">飞跃队 (共12人)</span>
                              <span class="text-xs text-blue-600 bg-white px-2 py-0.5 rounded-full shadow-sm">资格审核通过</span>
                          </div>

                          <!-- Member List -->
                          <div class="overflow-y-auto h-[600px] bg-slate-50 pb-20">
                              <div class="divide-y divide-slate-100">
                                  <!-- Member 1 -->
                                  <div class="bg-white p-4 flex items-center gap-3">
                                      <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Zhang" class="w-10 h-10 rounded-full bg-slate-100">
                                      <div class="flex-1 min-w-0">
                                          <div class="flex justify-between items-center mb-0.5">
                                              <h4 class="font-bold text-slate-800 text-sm">张伟</h4>
                                              <span class="text-[10px] px-1.5 py-0.5 bg-emerald-100 text-emerald-600 rounded">已参赛</span>
                                          </div>
                                          <p class="text-xs text-slate-400 truncate">男子单人操 / 混合双人操</p>
                                      </div>
                                      <button class="w-8 h-8 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-100 hover:text-slate-600">
                                          <i class="fa-solid fa-chevron-right text-xs"></i>
                                      </button>
                                  </div>

                                  <!-- Member 2 -->
                                  <div class="bg-white p-4 flex items-center gap-3">
                                      <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Li" class="w-10 h-10 rounded-full bg-slate-100">
                                      <div class="flex-1 min-w-0">
                                          <div class="flex justify-between items-center mb-0.5">
                                              <h4 class="font-bold text-slate-800 text-sm">李强</h4>
                                              <span class="text-[10px] px-1.5 py-0.5 bg-emerald-100 text-emerald-600 rounded">已参赛</span>
                                          </div>
                                          <p class="text-xs text-slate-400 truncate">五人操 / 混合双人操</p>
                                      </div>
                                      <button class="w-8 h-8 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-100 hover:text-slate-600">
                                          <i class="fa-solid fa-chevron-right text-xs"></i>
                                      </button>
                                  </div>

                                  <!-- Member 3 -->
                                  <div class="bg-white p-4 flex items-center gap-3">
                                      <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Wang" class="w-10 h-10 rounded-full bg-slate-100">
                                      <div class="flex-1 min-w-0">
                                          <div class="flex justify-between items-center mb-0.5">
                                              <h4 class="font-bold text-slate-800 text-sm">王军</h4>
                                              <span class="text-[10px] px-1.5 py-0.5 bg-orange-100 text-orange-600 rounded">检录中</span>
                                          </div>
                                          <p class="text-xs text-slate-400 truncate">有氧舞蹈</p>
                                      </div>
                                      <button class="w-8 h-8 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-100 hover:text-slate-600">
                                          <i class="fa-solid fa-chevron-right text-xs"></i>
                                      </button>
                                  </div>

                                  <!-- Member 4 -->
                                  <div class="bg-white p-4 flex items-center gap-3">
                                      <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Chen" class="w-10 h-10 rounded-full bg-slate-100">
                                      <div class="flex-1 min-w-0">
                                          <div class="flex justify-between items-center mb-0.5">
                                              <h4 class="font-bold text-slate-800 text-sm">陈静</h4>
                                              <span class="text-[10px] px-1.5 py-0.5 bg-slate-100 text-slate-500 rounded">未开始</span>
                                          </div>
                                          <p class="text-xs text-slate-400 truncate">女子单人操</p>
                                      </div>
                                      <button class="w-8 h-8 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-100 hover:text-slate-600">
                                          <i class="fa-solid fa-chevron-right text-xs"></i>
                                      </button>
                                  </div>

                                  <!-- Member 5 -->
                                  <div class="bg-white p-4 flex items-center gap-3">
                                      <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Liu" class="w-10 h-10 rounded-full bg-slate-100">
                                      <div class="flex-1 min-w-0">
                                          <div class="flex justify-between items-center mb-0.5">
                                              <h4 class="font-bold text-slate-800 text-sm">刘洋</h4>
                                              <span class="text-[10px] px-1.5 py-0.5 bg-red-50 text-red-500 rounded">资料待补</span>
                                          </div>
                                          <p class="text-xs text-slate-400 truncate">五人操</p>
                                      </div>
                                      <button class="w-8 h-8 rounded-full bg-slate-50 text-slate-400 flex items-center justify-center hover:bg-slate-100 hover:text-slate-600">
                                          <i class="fa-solid fa-chevron-right text-xs"></i>
                                      </button>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <h4 class="font-bold text-slate-700">领队面板 - 我的队员</h4>
                  </div>

                  <!-- Phone 3: 领队 - 实时战报 -->
                  <div class="flex flex-col items-center gap-4">
                      <div class="mobile-shell">
                          <div class="notch"></div>
                          <div class="bg-white h-16 pt-8 px-4 flex items-center justify-center border-b border-slate-100">
                              <h3 class="font-bold text-slate-800">实时战报</h3>
                          </div>
                          
                          <div class="p-4 overflow-y-auto h-[680px]">
                              <!-- Chart Area -->
                              <div class="bg-white p-5 rounded-2xl shadow-sm mb-4 flex flex-col items-center">
                                  <h4 class="text-sm font-bold text-slate-700 mb-4 self-start">队伍完赛统计</h4>
                                  <!-- Simple CSS Donut Chart -->
                                  <div class="relative w-32 h-32 rounded-full" style="background: conic-gradient(#10b981 0% 60%, #3b82f6 60% 85%, #e2e8f0 85% 100%);">
                                      <div class="absolute inset-4 bg-white rounded-full flex items-center justify-center flex-col">
                                          <span class="text-2xl font-bold text-slate-800">85%</span>
                                          <span class="text-[10px] text-slate-400">完赛率</span>
                                      </div>
                                  </div>
                                  <div class="flex gap-4 mt-4 text-xs">
                                      <div class="flex items-center gap-1"><span class="w-2 h-2 bg-emerald-500 rounded-full"></span> 已完赛</div>
                                      <div class="flex items-center gap-1"><span class="w-2 h-2 bg-blue-500 rounded-full"></span> 进行中</div>
                                      <div class="flex items-center gap-1"><span class="w-2 h-2 bg-slate-200 rounded-full"></span> 未开始</div>
                                  </div>
                              </div>

                              <!-- Live List -->
                              <h4 class="text-sm font-bold text-slate-700 mb-2">最新动态</h4>
                              <div class="space-y-3">
                                  <!-- Item -->
                                  <div class="bg-white p-3 rounded-xl shadow-sm flex items-center gap-3 border-l-4 border-emerald-500">
                                      <div class="flex-1">
                                          <div class="flex justify-between items-center mb-1">
                                              <span class="font-bold text-sm">李明 (100米)</span>
                                              <span class="text-xs font-bold text-emerald-600">第 2 名</span>
                                          </div>
                                          <p class="text-xs text-slate-500">成绩: 11.23秒 - 决赛已结束</p>
                                      </div>
                                  </div>
                                  <!-- Item -->
                                  <div class="bg-white p-3 rounded-xl shadow-sm flex items-center gap-3 border-l-4 border-blue-500">
                                      <div class="flex-1">
                                          <div class="flex justify-between items-center mb-1">
                                              <span class="font-bold text-sm">王强 (跳远)</span>
                                              <span class="text-xs font-bold text-blue-600">比赛中</span>
                                          </div>
                                          <p class="text-xs text-slate-500">当前轮次: 第 3 跳</p>
                                      </div>
                                  </div>
                                  <!-- Item -->
                                  <div class="bg-white p-3 rounded-xl shadow-sm flex items-center gap-3 border-l-4 border-emerald-500">
                                      <div class="flex-1">
                                          <div class="flex justify-between items-center mb-1">
                                              <span class="font-bold text-sm">接力队</span>
                                              <span class="text-xs font-bold text-emerald-600">第 1 名</span>
                                          </div>
                                          <p class="text-xs text-slate-500">小组赛 - 晋级</p>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <h4 class="font-bold text-slate-700">领队面板 - 数据与推送</h4>
                  </div>

                  <!-- Phone 4: 领队 - 成绩详情 -->
                  <div class="flex flex-col items-center gap-4">
                      <div class="mobile-shell">
                          <div class="notch"></div>
                          <div class="bg-slate-900 h-48 pt-12 px-6 relative">
                              <button class="text-white mb-4"><i class="fa-solid fa-chevron-left"></i></button>
                              <h2 class="text-2xl font-bold text-white">成绩单</h2>
                              <p class="text-slate-400 text-sm">男子 100米 决赛</p>
                              
                              <div class="absolute -bottom-10 left-6 right-6 bg-white rounded-2xl p-4 shadow-lg flex items-center justify-between">
                                  <div>
                                      <p class="text-xs text-slate-400">最终排名</p>
                                      <p class="text-2xl font-bold text-brand-600">NO.2</p>
                                  </div>
                                  <div class="text-right">
                                      <p class="text-xs text-slate-400">最终成绩</p>
                                      <p class="text-xl font-bold text-slate-800">11.23s</p>
                                  </div>
                              </div>
                          </div>

                          <div class="pt-14 px-6 space-y-6">
                              <div>
                                  <h4 class="text-sm font-bold text-slate-800 mb-2">分段数据</h4>
                                  <div class="bg-white rounded-xl p-4 border border-slate-100 space-y-3">
                                      <div class="flex justify-between text-sm">
                                          <span class="text-slate-500">起跑反应</span>
                                          <span class="font-medium">0.142s</span>
                                      </div>
                                      <div class="flex justify-between text-sm">
                                          <span class="text-slate-500">风速</span>
                                          <span class="font-medium">+0.5 m/s</span>
                                      </div>
                                  </div>
                              </div>

                              <div class="flex gap-3 mt-8">
                                  <button class="flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-medium text-sm hover:bg-slate-200">
                                      <i class="fa-solid fa-circle-exclamation mr-1"></i> 成绩申诉
                                  </button>
                                  <button class="flex-1 py-3 bg-brand-600 text-white rounded-xl font-medium text-sm hover:bg-brand-700">
                                      <i class="fa-solid fa-share-nodes mr-1"></i> 生成报告
                                  </button>
                              </div>
                          </div>
                      </div>
                      <h4 class="font-bold text-slate-700">领队面板 - 成绩详情</h4>
                  </div>

                  <!-- Phone 5: 领队 - 消息推送[程序内] -->
                  <div class="flex flex-col items-center gap-4">
                      <div class="mobile-shell relative overflow-hidden">
                          <div class="notch"></div>
                          <div class="bg-white h-16 pt-8 px-4 flex items-center justify-between border-b border-slate-100">
                              <button class="text-slate-800"><i class="fa-solid fa-chevron-left"></i></button>
                              <h3 class="font-bold text-slate-800">消息通知</h3>
                              <button class="text-slate-800"><i class="fa-solid fa-ellipsis"></i></button>
                          </div>
                          
                          <div class="p-4 h-[680px] bg-slate-50 relative">
                              <div class="flex flex-col items-center justify-center h-full space-y-4">
                                  <div class="text-slate-400 text-sm">暂无新消息</div>
                                  <button id="btn-simulate-in-app" onclick="triggerInAppMsg()" class="px-4 py-2 bg-blue-100 text-blue-600 rounded-lg text-sm font-medium hover:bg-blue-200 transition">
                                      点击模拟接收消息
                                  </button>
                              </div>

                              <!-- Message Card Overlay -->
                              <div id="msg-card-overlay" class="absolute inset-0 bg-black/50 z-20 hidden flex items-center justify-center backdrop-blur-sm opacity-0 transition-opacity duration-300">
                                  <div class="bg-white w-[85%] rounded-2xl shadow-2xl p-6 transform scale-90 transition-transform duration-300" id="msg-card">
                                      <div class="text-center mb-6">
                                          <div class="w-12 h-12 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4">
                                              <i class="fa-solid fa-bullhorn text-xl"></i>
                                          </div>
                                          <h4 class="text-lg font-bold text-slate-800 mb-2">紧急通知</h4>
                                          <p class="text-slate-600 leading-relaxed">请让队员 <span class="font-bold text-slate-900">张佑才</span> 到 <span class="font-bold text-brand-600">检录口A</span> 就位！</p>
                                      </div>
                                      <div class="flex gap-3">
                                          <button onclick="closeMsgCard()" class="flex-1 py-2.5 bg-slate-100 text-slate-600 rounded-xl font-medium hover:bg-slate-200 transition">关闭</button>
                                          <button onclick="closeMsgCard()" class="flex-1 py-2.5 bg-brand-600 text-white rounded-xl font-medium hover:bg-brand-700 shadow-lg shadow-brand-500/30 transition">收到</button>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <h4 class="font-bold text-slate-700">领队 - 消息推送[程序内]</h4>
                  </div>
                  
                  <!-- Phone 6: 领队 - 消息推送[程序外] -->
                  <div class="flex flex-col items-center gap-4">
                      <div class="mobile-shell relative overflow-hidden bg-slate-100">
                          <div class="notch z-50"></div>
                          
                          <!-- System Status Bar Simulation -->
                          <div class="h-8 w-full bg-transparent absolute top-0 z-40 flex justify-between px-6 items-center pt-2">
                              <span class="text-[10px] font-bold text-slate-900">9:41</span>
                              <div class="flex gap-1">
                                  <i class="fa-solid fa-signal text-[10px] text-slate-900"></i>
                                  <i class="fa-solid fa-wifi text-[10px] text-slate-900"></i>
                                  <i class="fa-solid fa-battery-full text-[10px] text-slate-900"></i>
                              </div>
                          </div>

                          <!-- Top Notification Banner -->
                          <div id="notification-banner" class="absolute top-0 left-0 right-0 bg-white/90 backdrop-blur-md shadow-lg z-30 transform -translate-y-full transition-transform duration-500 rounded-b-2xl p-3 pt-10 border-b border-slate-200 cursor-pointer" onclick="openApp()">
                              <div class="flex gap-3 items-start">
                                  <div class="w-10 h-10 bg-brand-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-sm">
                                      <i class="fa-solid fa-trophy text-white text-lg"></i>
                                  </div>
                                  <div class="flex-1 min-w-0">
                                      <div class="flex justify-between items-baseline mb-0.5">
                                          <span class="font-bold text-sm text-slate-900">智慧云体育</span>
                                          <span class="text-[10px] text-slate-400">现在</span>
                                      </div>
                                      <p class="text-xs text-slate-600 font-medium truncate">请让队员张佑才到检录口A就位！</p>
                                  </div>
                              </div>
                          </div>

                          <!-- WeChat List Simulation -->
                          <div class="h-full pt-12 overflow-y-auto">
                              <div class="px-4 pb-4 space-y-0">
                                   <!-- Search Bar -->
                                   <div class="bg-white rounded-lg p-2 mb-2 flex items-center justify-center text-slate-400 text-xs">
                                      <i class="fa-solid fa-magnifying-glass mr-1"></i> 搜索
                                   </div>

                                   <!-- App List Item (Target App) -->
                                   <div class="bg-white p-3 flex gap-3 active:bg-slate-50 transition border-b border-slate-100" onclick="openApp()">
                                      <div class="relative">
                                          <div class="w-12 h-12 bg-brand-600 rounded-lg flex items-center justify-center text-white text-xl">
                                              <i class="fa-solid fa-trophy"></i>
                                          </div>
                                          <!-- Red Dot Badge -->
                                          <div id="app-badge" class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white flex items-center justify-center transform scale-0 transition-transform duration-300">
                                              <span class="text-[8px] text-white font-bold">1</span>
                                          </div>
                                      </div>
                                      <div class="flex-1 min-w-0 flex flex-col justify-center">
                                          <div class="flex justify-between items-center mb-1">
                                              <h4 class="text-sm font-medium text-slate-900">智慧云体育</h4>
                                              <span class="text-[10px] text-slate-400" id="msg-time">昨天</span>
                                          </div>
                                          <p class="text-xs text-slate-400 truncate" id="msg-preview">点击查看最新赛事信息</p>
                                      </div>
                                   </div>

                                   <!-- Other Dummy Items -->
                                   <div class="bg-white p-3 flex gap-3 border-b border-slate-100">
                                      <div class="w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center text-white text-xl">
                                          <i class="fa-solid fa-comments"></i>
                                      </div>
                                      <div class="flex-1 min-w-0 flex flex-col justify-center">
                                          <div class="flex justify-between items-center mb-1">
                                              <h4 class="text-sm font-medium text-slate-900">微信团队</h4>
                                              <span class="text-[10px] text-slate-400">10:23</span>
                                          </div>
                                          <p class="text-xs text-slate-400 truncate">登录操作通知</p>
                                      </div>
                                   </div>
                                   
                                   <div class="bg-white p-3 flex gap-3 border-b border-slate-100">
                                      <div class="w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center text-white text-xl">
                                          <i class="fa-solid fa-bag-shopping"></i>
                                      </div>
                                      <div class="flex-1 min-w-0 flex flex-col justify-center">
                                          <div class="flex justify-between items-center mb-1">
                                              <h4 class="text-sm font-medium text-slate-900">订阅号消息</h4>
                                              <span class="text-[10px] text-slate-400">09:15</span>
                                          </div>
                                          <p class="text-xs text-slate-400 truncate">3条新消息</p>
                                      </div>
                                   </div>
                              </div>
                          </div>
                      </div>
                      <h4 class="font-bold text-slate-700">领队 - 消息推送[程序外]</h4>
                  </div>
              </div>
          </div>

      </div>
  </main>

  <!-- Global Simulate Button -->
    <button onclick="triggerGlobalSimulation()" class="fixed bottom-10 right-10 w-16 h-16 bg-brand-600 rounded-full shadow-2xl shadow-brand-600/50 flex items-center justify-center text-white text-2xl z-[100] hover:scale-110 transition-transform cursor-pointer group">
        <i class="fa-solid fa-paper-plane group-hover:rotate-12 transition-transform"></i>
        <span class="absolute -top-10 right-0 bg-slate-800 text-white text-xs px-2 py-1 rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none">模拟发送消息</span>
    </button>

    <!-- 3. 抽屉与模态框组件 (Drawers & Modals) -->

  <!-- 创建赛事 Drawer -->
  <div id="create-event-drawer" class="fixed inset-0 z-50 hidden">
      <div class="absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity" onclick="toggleDrawer('create-event-drawer')"></div>
      <div class="absolute right-0 top-0 h-full w-[500px] bg-white shadow-2xl transform transition-transform translate-x-full flex flex-col" id="create-event-content">
          <div class="p-6 border-b border-slate-100 flex justify-between items-center">
              <h2 class="text-xl font-bold text-slate-800">创建新赛事</h2>
              <button onclick="toggleDrawer('create-event-drawer')" class="text-slate-400 hover:text-slate-600"><i class="fa-solid fa-xmark text-xl"></i></button>
          </div>
          <div class="flex-1 overflow-y-auto p-6 space-y-6">
              <div>
                  <label class="block text-sm font-medium text-slate-700 mb-1">赛事名称</label>
                  <input type="text" class="w-full rounded-lg border-slate-300 border p-2.5 focus:ring-2 focus:ring-brand-500 focus:border-brand-500 outline-none" placeholder="例如：2025春季运动会">
              </div>
              <div>
                  <label class="block text-sm font-medium text-slate-700 mb-1">主办方</label>
                  <input type="text" class="w-full rounded-lg border-slate-300 border p-2.5 focus:ring-2 focus:ring-brand-500 outline-none" placeholder="输入主办单位名称">
              </div>
              <div>
                  <label class="block text-sm font-medium text-slate-700 mb-1">协办/合办单位</label>
                  <input type="text" class="w-full rounded-lg border-slate-300 border p-2.5 focus:ring-2 focus:ring-brand-500 outline-none" placeholder="可选">
              </div>
              <div>
                  <label class="block text-sm font-medium text-slate-700 mb-1">场馆地址</label>
                  <input type="text" class="w-full rounded-lg border-slate-300 border p-2.5 focus:ring-2 focus:ring-brand-500 outline-none" placeholder="比赛具体地点">
              </div>
              <div>
                  <label class="block text-sm font-medium text-slate-700 mb-1">赛事规模 (人数)</label>
                  <div class="grid grid-cols-3 gap-3">
                      <label class="cursor-pointer border rounded-lg p-3 text-center hover:bg-brand-50 hover:border-brand-500 has-[:checked]:bg-brand-50 has-[:checked]:border-brand-500 has-[:checked]:text-brand-700 transition">
                          <input type="radio" name="scale" class="hidden">
                          <span class="text-sm font-medium">小型<br><span class="text-xs font-normal text-slate-500">< 200</span></span>
                      </label>
                      <label class="cursor-pointer border rounded-lg p-3 text-center hover:bg-brand-50 hover:border-brand-500 has-[:checked]:bg-brand-50 has-[:checked]:border-brand-500 has-[:checked]:text-brand-700 transition">
                          <input type="radio" name="scale" class="hidden" checked>
                          <span class="text-sm font-medium">中型<br><span class="text-xs font-normal text-slate-500">200-1000</span></span>
                      </label>
                      <label class="cursor-pointer border rounded-lg p-3 text-center hover:bg-brand-50 hover:border-brand-500 has-[:checked]:bg-brand-50 has-[:checked]:border-brand-500 has-[:checked]:text-brand-700 transition">
                          <input type="radio" name="scale" class="hidden">
                          <span class="text-sm font-medium">大型<br><span class="text-xs font-normal text-slate-500">> 1000</span></span>
                      </label>
                  </div>
              </div>
              <div class="grid grid-cols-2 gap-4">
                  <div>
                      <label class="block text-sm font-medium text-slate-700 mb-1">开始时间</label>
                      <input type="date" class="w-full rounded-lg border-slate-300 border p-2.5 focus:ring-2 focus:ring-brand-500 outline-none">
                  </div>
                  <div>
                      <label class="block text-sm font-medium text-slate-700 mb-1">结束时间</label>
                      <input type="date" class="w-full rounded-lg border-slate-300 border p-2.5 focus:ring-2 focus:ring-brand-500 outline-none">
                  </div>
              </div>
          </div>
          <div class="p-6 border-t border-slate-100 flex justify-end gap-3">
              <button onclick="toggleDrawer('create-event-drawer')" class="px-5 py-2.5 rounded-xl border border-slate-300 text-slate-700 hover:bg-slate-50 font-medium">取消</button>
              <button onclick="toggleDrawer('create-event-drawer')" class="px-5 py-2.5 rounded-xl bg-brand-600 text-white hover:bg-brand-700 font-medium shadow-lg shadow-brand-500/30">立即创建</button>
          </div>
      </div>
  </div>

  <!-- 角色详情 Drawer -->
  <div id="role-detail-drawer" class="fixed inset-0 z-50 hidden">
      <div class="absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity" onclick="toggleDrawer('role-detail-drawer')"></div>
      <div class="absolute right-0 top-0 h-full w-[600px] bg-white shadow-2xl transform transition-transform translate-x-full flex flex-col" id="role-detail-content">
          <div class="p-6 border-b border-slate-100 flex justify-between items-center bg-brand-50">
              <div>
                  <h2 class="text-xl font-bold text-brand-900" id="role-drawer-title">角色详情</h2>
                  <p class="text-sm text-brand-600" id="role-drawer-subtitle">查看详细人员名单</p>
              </div>
              <button onclick="toggleDrawer('role-detail-drawer')" class="text-slate-400 hover:text-slate-600"><i class="fa-solid fa-xmark text-xl"></i></button>
          </div>
          <div class="flex-1 overflow-y-auto p-0">
              <table class="w-full text-left border-collapse">
                  <thead class="bg-slate-50 sticky top-0">
                      <tr>
                          <th class="p-4 text-xs font-bold text-slate-500 uppercase border-b border-slate-200">姓名</th>
                          <th class="p-4 text-xs font-bold text-slate-500 uppercase border-b border-slate-200">角色/职务</th>
                          <th class="p-4 text-xs font-bold text-slate-500 uppercase border-b border-slate-200">手机号</th>
                          <th class="p-4 text-xs font-bold text-slate-500 uppercase border-b border-slate-200">状态</th>
                      </tr>
                  </thead>
                  <tbody class="divide-y divide-slate-100" id="role-table-body">
                      <!-- JS will populate this -->
                  </tbody>
              </table>
          </div>
          <div class="p-4 border-t border-slate-100 bg-slate-50 flex justify-between items-center">
              <span class="text-sm text-slate-500">共 12 条记录</span>
              <div class="flex gap-2">
                  <button class="px-3 py-1 border rounded bg-white text-sm disabled:opacity-50">上一页</button>
                  <button class="px-3 py-1 border rounded bg-white text-sm">下一页</button>
              </div>
          </div>
      </div>
  </div>

  <!-- 赛程管理 Modal -->
  <div id="schedule-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center">
      <div class="absolute inset-0 bg-black/40 backdrop-blur-sm" onclick="toggleModal('schedule-modal')"></div>
      <div class="bg-white rounded-2xl shadow-2xl w-[800px] max-h-[80vh] flex flex-col relative z-10 transform transition-all scale-95 opacity-0" id="schedule-modal-content">
          <div class="p-6 border-b border-slate-100 flex justify-between items-center">
              <h3 class="text-xl font-bold text-slate-800">赛程编排管理</h3>
              <button onclick="toggleModal('schedule-modal')" class="text-slate-400 hover:text-slate-600"><i class="fa-solid fa-xmark"></i></button>
          </div>
          <div class="p-6 bg-slate-50 flex-1 overflow-y-auto">
              <div class="flex gap-4 mb-4">
                  <button class="px-4 py-2 bg-white border border-slate-200 rounded-lg text-brand-600 font-medium shadow-sm">4月10日</button>
                  <button class="px-4 py-2 bg-transparent text-slate-500 hover:text-slate-700">4月11日</button>
                  <button class="px-4 py-2 bg-transparent text-slate-500 hover:text-slate-700">4月12日</button>
              </div>
              
              <div class="space-y-3" id="draggable-list">
                  <!-- Draggable Item 1 -->
                  <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4 cursor-move group hover:border-brand-300 transition">
                      <div class="text-slate-300 group-hover:text-brand-400"><i class="fa-solid fa-grip-vertical"></i></div>
                      <div class="w-20">
                          <input type="text" value="09:00" class="w-full text-sm font-bold text-slate-800 bg-slate-50 border-none rounded focus:ring-1 focus:ring-brand-500">
                      </div>
                      <div class="flex-1">
                          <input type="text" value="男子 100米 预赛" class="w-full text-sm font-medium text-slate-800 bg-transparent border-none focus:ring-0">
                      </div>
                      <div class="flex items-center gap-2">
                          <select class="text-xs bg-slate-50 border-none rounded text-slate-500">
                              <option>田径场 A区</option>
                              <option>田径场 B区</option>
                          </select>
                          <button class="text-slate-400 hover:text-red-500 p-2"><i class="fa-regular fa-trash-can"></i></button>
                      </div>
                  </div>

                  <!-- Draggable Item 2 -->
                  <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex items-center gap-4 cursor-move group hover:border-brand-300 transition">
                      <div class="text-slate-300 group-hover:text-brand-400"><i class="fa-solid fa-grip-vertical"></i></div>
                      <div class="w-20">
                          <input type="text" value="09:40" class="w-full text-sm font-bold text-slate-800 bg-slate-50 border-none rounded focus:ring-1 focus:ring-brand-500">
                      </div>
                      <div class="flex-1">
                          <input type="text" value="女子 4x100米 接力" class="w-full text-sm font-medium text-slate-800 bg-transparent border-none focus:ring-0">
                      </div>
                      <div class="flex items-center gap-2">
                          <select class="text-xs bg-slate-50 border-none rounded text-slate-500">
                              <option>田径场 跑道</option>
                          </select>
                          <button class="text-slate-400 hover:text-red-500 p-2"><i class="fa-regular fa-trash-can"></i></button>
                      </div>
                  </div>
                  
                  <!-- Add New -->
                  <button class="w-full py-3 border-2 border-dashed border-slate-300 rounded-xl text-slate-400 hover:border-brand-400 hover:text-brand-500 hover:bg-brand-50 transition flex items-center justify-center gap-2">
                      <i class="fa-solid fa-plus"></i> 添加赛程项
                  </button>
              </div>
          </div>
          <div class="p-6 border-t border-slate-100 flex justify-end gap-3">
              <button onclick="toggleModal('schedule-modal')" class="px-5 py-2.5 rounded-xl border border-slate-300 text-slate-700 hover:bg-slate-50 font-medium">取消</button>
              <button onclick="toggleModal('schedule-modal')" class="px-5 py-2.5 rounded-xl bg-brand-600 text-white hover:bg-brand-700 font-medium shadow-lg shadow-brand-500/30">保存更改</button>
          </div>
      </div>
  </div>

  <script>
      // ==========================================
      // 1. 基础导航与视图切换逻辑
      // ==========================================

      // Tab 切换逻辑
      function switchTab(tabId) {
          const tabs = ['dashboard', 'events', 'miniapp'];
          const activeClass = 'w-full flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all bg-brand-50 text-brand-600';
          const inactiveClass = 'w-full flex items-center px-4 py-3 text-sm font-medium text-slate-500 hover:bg-slate-50 hover:text-slate-900 rounded-xl transition-all';
          
          const titles = {
              'dashboard': '赛事数据看板',
              'events': '赛事列表',
              'miniapp': '小程序管理'
          };

          tabs.forEach(id => {
              const navEl = document.getElementById(`nav-${id}`);
              const viewEl = document.getElementById(`view-${id}`);
              
              if (navEl && viewEl) {
                  if (id === tabId) {
                      navEl.className = activeClass;
                      viewEl.classList.remove('hidden');
                      document.getElementById('page-title').innerText = titles[id];
                  } else {
                      navEl.className = inactiveClass;
                      viewEl.classList.add('hidden');
                  }
              }
          });
      }

      // 进入赛事详情页
      function openEventDetail(id) {
          document.getElementById('events-list-view').classList.add('hidden');
          document.getElementById('events-detail-view').classList.remove('hidden');
          // 重置滚动条位置
          document.getElementById('main-scroll').scrollTop = 0;
          document.getElementById('page-title').innerText = '赛事详情';
      }

      // 返回赛事列表页
      function closeEventDetail() {
          document.getElementById('events-detail-view').classList.add('hidden');
          document.getElementById('events-list-view').classList.remove('hidden');
          document.getElementById('page-title').innerText = '赛事列表';
      }

      // ==========================================
      // 2. 抽屉 (Drawer) 交互逻辑
      // ==========================================

      function toggleDrawer(drawerId) {
          const drawer = document.getElementById(drawerId);
          const content = drawer.querySelector('div[id$="-content"]'); // 查找 ID 以 -content 结尾的子元素
          
          if (drawer.classList.contains('hidden')) {
              // 打开抽屉
              drawer.classList.remove('hidden');
              // 延时一小段时间以触发 CSS transition
              setTimeout(() => {
                  content.classList.remove('translate-x-full');
              }, 10);
          } else {
              // 关闭抽屉
              content.classList.add('translate-x-full');
              // 等待动画结束后隐藏 DOM
              setTimeout(() => {
                  drawer.classList.add('hidden');
              }, 300);
          }
      }

      // ==========================================
      // 3. 模态框 (Modal) 交互逻辑
      // ==========================================

      function toggleModal(modalId) {
          const modal = document.getElementById(modalId);
          const content = document.getElementById(modalId + '-content');

          if (modal.classList.contains('hidden')) {
              // 打开模态框
              modal.classList.remove('hidden');
              setTimeout(() => {
                  content.classList.remove('scale-95', 'opacity-0');
                  content.classList.add('scale-100', 'opacity-100');
              }, 10);
          } else {
              // 关闭模态框
              content.classList.remove('scale-100', 'opacity-100');
              content.classList.add('scale-95', 'opacity-0');
              setTimeout(() => {
                  modal.classList.add('hidden');
              }, 300); // 这里的 300ms 对应 CSS transition 的时间
          }
      }

      // ==========================================
      // 4. 角色详情数据模拟与渲染逻辑
      // ==========================================

      // 模拟数据源
      const mockRoleData = {
          team: {
              title: "参赛队伍详情",
              subtitle: "查看所有报名队伍及成员信息",
              rows: [
                  { name: "张伟", role: "领队", phone: "13800138000", status: "已认证", color: "text-emerald-600 bg-emerald-50" },
                  { name: "李明", role: "队员 (100米)", phone: "13912345678", status: "已检录", color: "text-blue-600 bg-blue-50" },
                  { name: "王强", role: "队员 (跳远)", phone: "13787654321", status: "比赛中", color: "text-amber-600 bg-amber-50" },
                  { name: "赵敏", role: "队员 (接力)", phone: "15000000000", status: "待检录", color: "text-slate-600 bg-slate-100" },
                  { name: "孙悟空", role: "队员 (撑杆跳)", phone: "13666666666", status: "已完赛", color: "text-slate-600 bg-slate-100" },
              ]
          },
          referee: {
              title: "裁判组名单",
              subtitle: "查看本次赛事的执裁人员",
              rows: [
                  { name: "周杰伦", role: "总裁判长", phone: "18888888888", status: "在线", color: "text-emerald-600 bg-emerald-50" },
                  { name: "林俊杰", role: "田径组长", phone: "17777777777", status: "执裁中", color: "text-blue-600 bg-blue-50" },
                  { name: "陈奕迅", role: "终点计时", phone: "16666666666", status: "休息", color: "text-slate-500 bg-slate-100" },
              ]
          },
          support: {
              title: "支撑组人员",
              subtitle: "播报员、记录员及志愿者",
              rows: [
                  { name: "撒贝宁", role: "首席播报", phone: "19999999999", status: "播报中", color: "text-purple-600 bg-purple-50" },
                  { name: "何炅", role: "现场统筹", phone: "15555555555", status: "在线", color: "text-emerald-600 bg-emerald-50" },
              ]
          }
      };

      // 打开角色详情 Drawer 并渲染数据
      function openRoleDrawer(type) {
          const data = mockRoleData[type];
          if (!data) return;

          // 1. 更新标题
          document.getElementById('role-drawer-title').innerText = data.title;
          document.getElementById('role-drawer-subtitle').innerText = data.subtitle;

          // 2. 生成表格内容
          const tbody = document.getElementById('role-table-body');
          tbody.innerHTML = ''; // 清空旧数据

          data.rows.forEach(row => {
              const tr = document.createElement('tr');
              tr.className = "hover:bg-slate-50 transition border-b border-slate-100 last:border-0";
              tr.innerHTML = `
                  <td class="p-4">
                      <div class="flex items-center gap-3">
                          <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-xs font-bold text-slate-500">
                              ${row.name.charAt(0)}
                          </div>
                          <span class="font-medium text-slate-700">${row.name}</span>
                      </div>
                  </td>
                  <td class="p-4 text-sm text-slate-600">${row.role}</td>
                  <td class="p-4 text-sm text-slate-500 font-mono">${row.phone}</td>
                  <td class="p-4">
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${row.color}">
                          ${row.status}
                      </span>
                  </td>
              `;
              tbody.appendChild(tr);
          });

          // 3. 打开抽屉
          toggleDrawer('role-detail-drawer');
      }

      // ==========================================
      // 5. 赛程视图切换 (List vs Gantt)
      // ==========================================
      function switchScheduleView(viewType) {
          const listView = document.getElementById('schedule-list-view');
          const ganttView = document.getElementById('schedule-gantt-view');
          const btnList = document.getElementById('btn-view-list');
          const btnGantt = document.getElementById('btn-view-gantt');

          const activeBtnClass = "px-3 py-1.5 text-xs font-medium rounded-md bg-brand-50 text-brand-600 shadow-sm transition-all";
          const inactiveBtnClass = "px-3 py-1.5 text-xs font-medium rounded-md text-slate-500 hover:text-slate-700 hover:bg-slate-50 transition-all";

          if (viewType === 'list') {
              listView.classList.remove('hidden');
              ganttView.classList.add('hidden');
              
              btnList.className = activeBtnClass;
              btnGantt.className = inactiveBtnClass;
          } else {
              listView.classList.add('hidden');
              ganttView.classList.remove('hidden');
              
              btnList.className = inactiveBtnClass;
              btnGantt.className = activeBtnClass;
          }
      }
  </script>
</body>
</html>
